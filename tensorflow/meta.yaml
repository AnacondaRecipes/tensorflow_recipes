{% set version = "2.0.0" %}

package:
  name: tensorflow
  version: {{ version }}

build:
  number: 0
  skip: True  # [not x86_64]
  string: {{ tflow_variant }}_py{{ py_version | replace(".", "") }}h{{PKG_HASH}}_{{ PKG_BUILDNUM }}  # [linux or win-64]

requirements:
  host:
    # use these here so we can use pin_compatible
    - tensorboard {{version}}
    - tensorflow-estimator {{version}}
  run:
    - python {{ py_version }}                     # [linux or win-64]
    - tensorflow-base =={{ full_base_version }}   # [linux or win-64]
    - _tflow_select =={{ select_version }}        # [linux or win-64]
    - {{ pin_compatible('tensorboard', max_pin='x.x') }}
    - {{ pin_compatible('tensorflow-estimator', max_pin='x.x') }}

test:
  imports:
    - tensorflow
    - tensorboard
  commands:
    - tensorboard --help

about:
  home: http://tensorflow.org/
  license: Apache 2.0
  license_family: Apache
  summary: TensorFlow is a machine learning library.
  description: |
    TensorFlow provides multiple APIs.The lowest level API, TensorFlow Core
    provides you with complete programming control.
  dev_url: https://github.com/tensorflow/tensorflow
  doc_url: https://www.tensorflow.org/get_started/get_started
  doc_source_url: https://github.com/tensorflow/tensorflow/tree/master/tensorflow/docs_src
